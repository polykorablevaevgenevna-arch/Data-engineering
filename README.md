# Анализ мутаций в гене ТР53 человека и их влияния на функцию соответствующего белка
## Описание проекта: в данном датасете содержится информация о мутциях в гене TP53.
В датасете представлены следующие данные:
* DNA Change - локализация мутации  
* Protein Change - аминокислотная замена  
* Type - тип мутации на уровне ДНК
   * Substitution - замещение одного нуклеотида на другой
   * Deletion - вырезание нуклеотида
   * Insertion - вставка нового нуклеотида  
* Consequence - тип мутации на уровне белка, 16 вариантов, например, Missense - замена одной аминокислоты на другую
* num_ssm_affected_cases - количество случаев, в которых была зарегестрирована эта мутация (смотрим по всем данным по TP53)
* num_TP53_cases - общее количество случаев с мутациями в TP53
* ssm_affected_cases_percentage - процент случаев с этой мутацией относительно общего количества случаев с мутацией в TP53
* num_gdc_ssm_affected_cases - количество случаев, в которых была зарегестрирована эта мутация (смотрим по всей базе данных по всем генам)
* num_gdc_ssm_cases - общее количество случаев с мутациями в базе данных по всем генам
* gdc_ssm_affected_cases_percentage - процент случаев с этой мутацией относительно общего количества случаев в базе данных по всем генам

В датасете тоже представлены предсказания влияния мутаций на функцию белка треями разными способами:
* vep_impact
  * "HIGH" — вероятно сильное влияние
  * "MODERATE" — среднее
  * "LOW" — слабое
  * "MODIFIER" — отсутствие влияния (вне кодирующих регионов и т.п.)  
* sift_impact и sift_score - насколько аминокислотная замена влияет на функцию белка исходя из эволюционной сохранности, по гомологии с схожими белками
  * sift_score - float - чем меньше, тем сильнее влияние
  * sift_impact - 3 варианта значений
* polyphen_score и polyphen_impact - по физико-химическим свойствам аминокислот и изменению структуры белка, а также по гомологии с родственными белками
  * polyphen_score - чем больше, тем сильнее влияние

## Источник датасета
датасет взять с портала GDC
https://portal.gdc.cancer.gov/genes/ENSG00000141510

и размещен в S3 хранилище Minio в формате .tsv
https://94.124.179.195:9001/browser/poly-bio-data/frequent-mutations.2025-09-28.tsv

## Запуск проекта

При запуске проекта рекомендуется использовать переменное окружение environmental.yml.
Для запуска этого переменного окружения в командной строке введите команду conda env create -f environment.yml, затем активируйте с помощью команды conda activate data_eng

### Структура ETL:
В состав пакета входит 5 модулей:
* main.py - объединяет все пакеты и предоставляет CLI-интерфейс
* extract.py - скачивает файл из S3 хранилища Minio, загружает на компьютер и создаёт дата фрейм
* transform.py - делает привидение типов данных
* validate.py - меняет названия столбцов и удаляет столбец (по результатам EDA)
* load.py - загружает первые 100 строк обработанного дата сета в базу данных

### Запуск проекта
Для запуска проекта нужно ввести в командную строку следующую команду:
cd "C:\Users\Поля\1 projects\data_eng\main" #папка, где лежит пакет
python main.py --raw_file "C:\data_eng\RAW.tsv" --db_path "C:\data_eng\creds.db"


